<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking Lot Number Finder</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, #2c3e50, #4a6491);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #fff;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.8rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
            color: #FFD700;
            background: linear-gradient(to right, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .instructions {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.1rem;
            line-height: 1.5;
        }
        
        .game-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            flex-wrap: wrap;
        }
        
        .timer {
            font-size: 1.8rem;
            font-weight: bold;
            background: #2c3e50;
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        button {
            background: #FFD700;
            color: #2c3e50;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            margin: 5px;
        }
        
        button:hover {
            background: #FFC400;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }
        
        .parking-lot {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            position: relative;
            padding: 15px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
        }
        
        /* Parking lot structure */
        .road {
            position: absolute;
            background: #7f8c8d;
            height: 40px;
            width: calc(100% - 30px);
            top: 50%;
            left: 15px;
            transform: translateY(-50%);
            z-index: 1;
            border-top: 4px dashed #ecf0f1;
        }
        
        .parking-space {
            aspect-ratio: 1/1.2;
            background: #95a5a6;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            cursor: pointer;
            z-index: 2;
            padding: 10px 5px;
        }
        
        .parking-space .car {
            width: 80%;
            height: 50px;
            background: #e74c3c;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 0.9rem;
            position: relative;
            transition: all 0.3s;
            z-index: 3;
        }
        
        .parking-space .car:before {
            content: '';
            position: absolute;
            width: 20px;
            height: 10px;
            background: #34495e;
            top: -10px;
            border-radius: 3px 3px 0 0;
        }
        
        .parking-space .car:after {
            content: '';
            position: absolute;
            width: 10px;
            height: 5px;
            background: #3498db;
            top: -5px;
            right: 10px;
            border-radius: 2px 2px 0 0;
        }
        
        .parking-space .number {
            background: #ecf0f1;
            width: 90%;
            padding: 8px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            font-size: 1.4rem;
            font-weight: bold;
            transition: all 0.3s;
            z-index: 3;
        }
        
        .parking-space.scratched .number {
            background: #34495e;
            color: transparent;
            position: relative;
            overflow: hidden;
        }
        
        .parking-space.scratched .number:before {
            content: '???';
            position: absolute;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.2rem;
        }
        
        .parking-space.scratched .number:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                rgba(0, 0, 0, 0.1),
                rgba(0, 0, 0, 0.1) 5px,
                rgba(0, 0, 0, 0.2) 5px,
                rgba(0, 0, 0, 0.2) 10px
            );
        }
        
        .input-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .direction-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .direction-btn {
            padding: 10px 15px;
            background: #3498db;
        }
        
        .range-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }
        
        .range-btn {
            padding: 10px 15px;
            background: #9b59b6;
        }
        
        .score {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 10px;
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 10px;
        }
        
        .message {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            min-height: 40px;
            margin-top: 10px;
            color: #FFD700;
            padding: 5px;
        }
        
        .mission {
            text-align: center;
            font-size: 1.4rem;
            margin-bottom: 15px;
            background: rgba(52, 152, 219, 0.3);
            padding: 12px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .number-display {
            font-size: 2rem;
            font-weight: bold;
            background: #2c3e50;
            display: inline-block;
            padding: 5px 15px;
            border-radius: 10px;
            margin: 0 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .hint {
            text-align: center;
            font-size: 1.1rem;
            margin-top: 10px;
            font-style: italic;
            opacity: 0.8;
        }
        
        /* Emoji feedback */
        .emoji-feedback {
            position: absolute;
            font-size: 2.5rem;
            z-index: 10;
            pointer-events: none;
        }
        
        @media (max-width: 1100px) {
            .parking-lot {
                grid-template-columns: repeat(6, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .parking-lot {
                grid-template-columns: repeat(4, 1fr);
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .timer {
                font-size: 1.5rem;
            }
            
            .game-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .mission {
                font-size: 1.2rem;
            }
            
            .number-display {
                font-size: 1.6rem;
            }
        }
        
        @media (max-width: 480px) {
            .parking-lot {
                grid-template-columns: repeat(3, 1fr);
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
        
        /* Animation for correct selection */
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .celebrate {
            animation: celebrate 0.5s ease-in-out;
        }
        
        /* Animation for wrong selection */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        
        .shake {
            animation: shake 0.3s ease-in-out;
        }
        
        /* Animation for emoji */
        @keyframes floatUp {
            0% { 
                transform: translateY(0) scale(0.5); 
                opacity: 0;
            }
            20% { 
                transform: translateY(-20px) scale(1.2); 
                opacity: 1;
            }
            80% { 
                transform: translateY(-80px) scale(1); 
                opacity: 1;
            }
            100% { 
                transform: translateY(-100px) scale(0.5); 
                opacity: 0;
            }
        }
        
        .emoji-float {
            animation: floatUp 1.5s ease-out forwards;
        }
        
        .range-info {
            text-align: center;
            margin: 10px 0;
            font-size: 1.1rem;
            background: rgba(0, 0, 0, 0.2);
            padding: 8px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Parking Lot Number Finder</h1>
            <div class="instructions">
                <p>Find the cars with scratched parking tickets! Use your counting skills to figure out the missing numbers. Click on the car you think matches the target number. Count forward or backward to solve the puzzles!</p>
            </div>
        </header>
        
        <div class="mission" id="mission">
            Find the car with parking ticket number: <span class="number-display" id="target-number">---</span>
        </div>
        
        <div class="game-controls">
            <div class="timer">Time: <span id="time">90</span>s</div>
            <button id="start-btn">Start Game</button>
            <button id="reset-btn">Reset Game</button>
            <button id="hint-btn">Give Me a Hint</button>
        </div>
        
        <div class="range-info">
            Current number range: <span id="current-range">500-523</span>
        </div>
        
        <div class="range-buttons">
            <button class="range-btn" id="range-100">100-123</button>
            <button class="range-btn" id="range-200">200-223</button>
            <button class="range-btn" id="range-500">500-523</button>
            <button class="range-btn" id="range-700">700-723</button>
            <button class="range-btn" id="range-900">900-923</button>
        </div>
        
        <div class="parking-lot" id="parking-lot">
            <div class="road"></div>
            <!-- Parking spaces will be generated by JavaScript -->
        </div>
        
        <div class="input-area">
            <div class="direction-buttons">
                <button class="direction-btn" id="forward-btn">Count +1</button>
                <button class="direction-btn" id="backward-btn">Count -1</button>
                <button class="direction-btn" id="forward-big-btn">Count +10</button>
                <button class="direction-btn" id="backward-big-btn">Count -10</button>
            </div>
        </div>
        
        <div class="score">Score: <span id="score">0</span></div>
        <div class="message" id="message">Click Start Game to begin!</div>
        <div class="hint" id="hint">The numbers are in sequence. Use the counting buttons to navigate through the numbers.</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const parkingLot = document.getElementById('parking-lot');
            const startBtn = document.getElementById('start-btn');
            const resetBtn = document.getElementById('reset-btn');
            const hintBtn = document.getElementById('hint-btn');
            const forwardBtn = document.getElementById('forward-btn');
            const backwardBtn = document.getElementById('backward-btn');
            const forwardBigBtn = document.getElementById('forward-big-btn');
            const backwardBigBtn = document.getElementById('backward-big-btn');
            const timeDisplay = document.getElementById('time');
            const scoreDisplay = document.getElementById('score');
            const messageDisplay = document.getElementById('message');
            const targetNumberDisplay = document.getElementById('target-number');
            const missionDisplay = document.getElementById('mission');
            const hintDisplay = document.getElementById('hint');
            const rangeInfo = document.getElementById('current-range');
            
            // Range buttons
            const range100Btn = document.getElementById('range-100');
            const range200Btn = document.getElementById('range-200');
            const range500Btn = document.getElementById('range-500');
            const range700Btn = document.getElementById('range-700');
            const range900Btn = document.getElementById('range-900');
            
            let timeLeft = 90;
            let score = 0;
            let timer;
            let scratchedNumbers = [];
            let currentScratchedNumber = null;
            let currentNumber = 500; // Starting point for counting
            let gameActive = false;
            let spaces = [];
            let currentRange = "500-523";
            
            // Initialize the parking lot
            function initializeParkingLot() {
                // Clear existing parking spaces (except the road)
                const road = document.querySelector('.road');
                parkingLot.innerHTML = '';
                parkingLot.appendChild(road);
                
                spaces = [];
                // Generate 24 parking spaces (8x3 grid)
                for (let i = 0; i < 24; i++) {
                    const space = document.createElement('div');
                    space.className = 'parking-space';
                    
                    // Generate a random car color
                    const carColors = ['#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6', '#1abc9c', '#d35400', '#c0392b'];
                    const randomColor = carColors[Math.floor(Math.random() * carColors.length)];
                    
                    // Calculate the number for this space - sequential counting
                    const number = currentNumber + i;
                    
                    space.innerHTML = `
                        <div class="car" style="background: ${randomColor}">CAR</div>
                        <div class="number">${number}</div>
                    `;
                    
                    space.addEventListener('click', () => handleSpaceClick(space, number));
                    parkingLot.appendChild(space);
                    spaces.push(space);
                }
                
                // Update range info
                rangeInfo.textContent = `${currentNumber}-${currentNumber + 23}`;
            }
            
            // Handle clicking on a parking space
            function handleSpaceClick(space, number) {
                if (!gameActive) return;
                
                if (space.classList.contains('scratched')) {
                    if (number === currentScratchedNumber) {
                        // Correct selection
                        score += 25;
                        scoreDisplay.textContent = score;
                        messageDisplay.textContent = 'Correct! You found the car!';
                        space.classList.add('celebrate');
                        space.style.boxShadow = '0 0 15px #2ecc71';
                        space.querySelector('.car').style.boxShadow = '0 0 10px #2ecc71';
                        
                        // Reveal the number
                        space.querySelector('.number').textContent = number;
                        space.querySelector('.number').style.background = '#2ecc71';
                        space.querySelector('.number').style.color = 'white';
                        space.classList.remove('scratched');
                        
                        // Show celebration emoji
                        showEmoji(space, 'ðŸŽ‰');
                        
                        // Remove the found number from the list
                        const index = scratchedNumbers.indexOf(currentScratchedNumber);
                        if (index > -1) {
                            scratchedNumbers.splice(index, 1);
                        }
                        
                        // If there are more scratched numbers, set the next one
                        if (scratchedNumbers.length > 0) {
                            setTimeout(() => {
                                currentScratchedNumber = scratchedNumbers[0];
                                targetNumberDisplay.textContent = currentScratchedNumber;
                                messageDisplay.textContent = 'Great! Find the next car!';
                            }, 1500);
                        } else {
                            messageDisplay.textContent = 'You found all the cars!';
                            score += timeLeft * 3; // Bonus points for remaining time
                            scoreDisplay.textContent = score;
                            missionDisplay.style.background = "rgba(46, 204, 113, 0.3)";
                            endGame();
                        }
                    } else {
                        // Wrong selection
                        messageDisplay.textContent = 'Not this one. Try again!';
                        space.classList.add('shake');
                        score = Math.max(0, score - 5);
                        scoreDisplay.textContent = score;
                        
                        // Show silly emoji
                        showEmoji(space, 'ðŸ˜µ');
                        
                        setTimeout(() => {
                            space.classList.remove('shake');
                        }, 300);
                    }
                }
            }
            
            // Show emoji feedback
            function showEmoji(space, emoji) {
                const emojiElement = document.createElement('div');
                emojiElement.className = 'emoji-feedback emoji-float';
                emojiElement.textContent = emoji;
                
                const rect = space.getBoundingClientRect();
                emojiElement.style.left = `${rect.left + rect.width/2 - 20}px`;
                emojiElement.style.top = `${rect.top}px`;
                
                document.body.appendChild(emojiElement);
                
                // Remove emoji after animation completes
                setTimeout(() => {
                    document.body.removeChild(emojiElement);
                }, 1500);
            }
            
            // Start the game
            function startGame() {
                clearInterval(timer);
                timeLeft = 90;
                score = 0;
                scoreDisplay.textContent = score;
                messageDisplay.textContent = 'Find the car with the target number!';
                gameActive = true;
                
                timeDisplay.style.color = '#fff';
                
                initializeParkingLot();
                
                // Scratched some random numbers (between 6-8 numbers)
                scratchedNumbers = [];
                const numberOfScratched = Math.floor(Math.random() * 3) + 6; // 6-8 scratched numbers
                
                // Select random spaces to scratch
                const indexesToScratch = [];
                while (indexesToScratch.length < numberOfScratched) {
                    const randomIndex = Math.floor(Math.random() * 24);
                    if (!indexesToScratch.includes(randomIndex)) {
                        indexesToScratch.push(randomIndex);
                    }
                }
                
                // Apply scratched effect and store numbers
                indexesToScratch.forEach(index => {
                    spaces[index].classList.add('scratched');
                    const number = parseInt(spaces[index].querySelector('.number').textContent);
                    scratchedNumbers.push(number);
                });
                
                // Set the first scratched number as the current target
                currentScratchedNumber = scratchedNumbers[0];
                targetNumberDisplay.textContent = currentScratchedNumber;
                missionDisplay.style.background = "rgba(52, 152, 219, 0.3)";
                
                // Start timer
                timer = setInterval(function() {
                    timeLeft--;
                    timeDisplay.textContent = timeLeft;
                    
                    if (timeLeft <= 10) {
                        timeDisplay.style.color = '#e74c3c';
                    }
                    
                    if (timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
            }
            
            // Change number range
            function changeNumberRange(newRange) {
                if (gameActive) {
                    messageDisplay.textContent = "Game in progress! Reset first to change range.";
                    return;
                }
                
                switch(newRange) {
                    case 100:
                        currentNumber = 100;
                        currentRange = "100-123";
                        break;
                    case 200:
                        currentNumber = 200;
                        currentRange = "200-223";
                        break;
                    case 500:
                        currentNumber = 500;
                        currentRange = "500-523";
                        break;
                    case 700:
                        currentNumber = 700;
                        currentRange = "700-723";
                        break;
                    case 900:
                        currentNumber = 900;
                        currentRange = "900-923";
                        break;
                }
                
                initializeParkingLot();
                messageDisplay.textContent = `Number range changed to ${currentRange}. Click Start Game to begin!`;
            }
            
            // Count forward
            function countForward(amount) {
                if (!gameActive) return;
                currentNumber += amount;
                initializeParkingLot();
                reapplyScratchedNumbers();
                messageDisplay.textContent = `Counting forward by ${amount}...`;
            }
            
            // Count backward
            function countBackward(amount) {
                if (!gameActive) return;
                currentNumber -= amount;
                initializeParkingLot();
                reapplyScratchedNumbers();
                messageDisplay.textContent = `Counting backward by ${amount}...`;
            }
            
            // Reapply scratched numbers after counting
            function reapplyScratchedNumbers() {
                spaces.forEach((space, index) => {
                    if (space.classList.contains('scratched')) {
                        const number = currentNumber + index;
                        space.querySelector('.number').textContent = number;
                        space.setAttribute('data-number', number);
                    }
                });
                
                // Update the scratched numbers array
                scratchedNumbers = scratchedNumbers.map((num, idx) => {
                    const index = spaces.findIndex(space => 
                        parseInt(space.getAttribute('data-number')) === num);
                    return currentNumber + index;
                });
                
                // Update current target if needed
                if (scratchedNumbers.includes(currentScratchedNumber)) {
                    // Current target is still scratched, no change needed
                } else if (scratchedNumbers.length > 0) {
                    currentScratchedNumber = scratchedNumbers[0];
                    targetNumberDisplay.textContent = currentScratchedNumber;
                }
                
                // Update range info
                rangeInfo.textContent = `${currentNumber}-${currentNumber + 23}`;
            }
            
            // Provide a hint
            function provideHint() {
                if (!gameActive || scratchedNumbers.length === 0) return;
                
                // Find the space with the current target number
                let targetSpace = null;
                spaces.forEach(space => {
                    if (space.classList.contains('scratched')) {
                        const number = parseInt(space.querySelector('.number').textContent);
                        if (number === currentScratchedNumber) {
                            targetSpace = space;
                        }
                    }
                });
                
                if (targetSpace) {
                    targetSpace.style.boxShadow = '0 0 15px #FFD700';
                    targetSpace.querySelector('.car').style.boxShadow = '0 0 10px #FFD700';
                    messageDisplay.textContent = 'Hint: The car is highlighted in gold!';
                    score = Math.max(0, score - 10);
                    scoreDisplay.textContent = score;
                    
                    setTimeout(() => {
                        targetSpace.style.boxShadow = '';
                        targetSpace.querySelector('.car').style.boxShadow = '';
                    }, 2000);
                }
            }
            
            // End the game
            function endGame() {
                clearInterval(timer);
                gameActive = false;
                
                if (timeLeft <= 0) {
                    messageDisplay.textContent = 'Time\'s up! Game over.';
                    missionDisplay.style.background = "rgba(231, 76, 60, 0.3)";
                }
                
                messageDisplay.textContent += ` Final Score: ${score}`;
            }
            
            // Event listeners
            startBtn.addEventListener('click', startGame);
            resetBtn.addEventListener('click', startGame);
            hintBtn.addEventListener('click', provideHint);
            
            forwardBtn.addEventListener('click', () => countForward(1));
            backwardBtn.addEventListener('click', () => countBackward(1));
            forwardBigBtn.addEventListener('click', () => countForward(10));
            backwardBigBtn.addEventListener('click', () => countBackward(10));
            
            // Range button listeners
            range100Btn.addEventListener('click', () => changeNumberRange(100));
            range200Btn.addEventListener('click', () => changeNumberRange(200));
            range500Btn.addEventListener('click', () => changeNumberRange(500));
            range700Btn.addEventListener('click', () => changeNumberRange(700));
            range900Btn.addEventListener('click', () => changeNumberRange(900));
            
            // Initialize the parking lot on page load
            initializeParkingLot();
        });
    </script>
</body>
</html>